<!doctype HTML PUBLIC "-//IETF//DTD HTML//EN">
<!-- 	$Header: /cvsroot/cl-cookbook/cl-cookbook/windows.html,v 1.26 2003/09/15 21:26:33 bill_clementson Exp $	 -->
<html>

<head>
<title>The Common Lisp Cookbook - Setting up an IDE with Emacs on Windows or Mac 
OS X</title>
<style type="text/css">pre          { background-color: #e0e0e0; margin-left: 20px }
</style>
</head>

<body bgcolor="white">

<h1><a href="http://cl-cookbook.sourceforge.net/">The Common Lisp Cookbook</a> - 
Setting up an IDE with Emacs on Windows or Mac OS X<a href="#Mac OS X Setup Instructions">*</a></h1>
<p>Emacs is the preferred Lisp source code editor for most CL developers; 
however, it is not easy for an Emacs neophyte to get an Emacs environment set up 
and configured properly for Lisp development. The problem is compounded if the 
development platform is Microsoft Windows since Unix (and variants) is the more 
common platform used by experienced Lisp developers. In order to help a Lisp 
beginner set up an Emacs Common Lisp development environment on a Microsoft 
Windows PC, this chapter will lay out step-by-step instructions for installing 
all the necessary components for each of the most popular Common Lisp 
implementations on Windows:</p>
<ul>
  <li><b>Allegro Common Lisp (ACL):</b> Franz's own &quot;ELI&quot; will be used in Emacs.</li>
  <li><b>CLISP:</b> ILISP and Emacs Inferior Lisp Mode will be two alternative 
  environments that can be used with CLISP.</li>
  <li><b>Corman Common Lisp:</b> The Emacs Inferior Lisp Mode will be used.</li>
  <li><b>Xanalys LispWorks:</b> ILISP will be used in Emacs to provide the 
  development environment (Note: the trial version of the product doesn't 
  provide a non-gui Lisp image and this is necessary if the product is to be 
  used with Emacs).</li>
</ul>
<p>By exactly following the installation instructions, the user will wind up 
with an Emacs setup that:</p>
<ul>
  <li>Allows the user to trial the most popular Lisp implementations for 
  Windows.</li>
  <li>Allows the user to try out 3 different techniques (ILISP, ELI, 
  inferior-lisp mode) for establishing a Lisp development environment in Emacs - 
  each with its own sets of pluses and minuses.</li>
  <li>Configures Emacs so that it has keystroke bindings more similar to what a 
  Windows user is accustomed to.</li>
  <li>Configures Emacs with a number of custom configuration settings that are 
  commonly used.</li>
</ul>
<h2>Contents</h2>
<p>The following steps will be covered in this chapter:</p>
<ol>
  <li><a href="#Installing Emacs">Installing Emacs</a></li>
  <li><a href="#Installing additional Emacs utilities">Installing additional 
  Emacs utilities</a> (optional)</li>
  <li><a href="#Installing on-line documentation">Installing on-line 
  documentation</a> (optional)</li>
  <li><a href="#Installing CLISP">Installing CLISP</a> (optional)</li>
  <li><a href="#Installing ACL">Installing ACL</a> (optional)</li>
  <li><a href="#Installing LispWorks">Installing LispWorks</a> (optional)</li>
  <li><a href="#Installing Corman CL">Installing Corman CL</a> (optional)</li>
  <li><a href="#Configuration steps">Configuration steps</a></li>
  <li><a href="#Testing the environments">Testing the environments</a></li>
</ol>
<p>There is also a short appendix describing the sample .emacs file and brief 
Mac OS X setup instructions:<br>
&nbsp;&nbsp; A.&nbsp;&nbsp;&nbsp; <a href="#Sample .emacs file">Sample .emacs 
file</a><br>
&nbsp;&nbsp; B.&nbsp;&nbsp;&nbsp; <a href="#Mac OS X Setup Instructions">Mac OS 
X Setup Instructions</a></p>
<p>For each installation, an installation directory is suggested. It is 
recommended that you install in the suggested directory since, if you use the 
suggested directory names, the provided Emacs start-up file (.emacs) will work 
&quot;out-of-the-box&quot;. Please note the following:</p>
<ul>
  <li>If you use alternative directory names, you will need to modify the .emacs 
  file (instructions provided in step #8).</li>
  <li>The instructions assume you are using Winzip; however, you can use any 
  alternative utility.</li>
  <li>When you unpack .gz files with Winzip, it will ask you &quot;Should WinZip 
  decompress it to a temporary folder and open it?&quot; - click on &quot;No&quot;. When you 
  unzip any files, you should ensure that &quot;All files&quot; radio button is selected 
  and the &quot;Use folder names&quot; check box is ticked.</li>
  <li>There are instructions for downloading all the implementations; however, 
  it is not necessary to do so. You should complete step #1 (Read through step 
  #2 to determine whether you want/need any of the optional Emacs utilities 
  covered in this section. Step #3 is required if you want local access to the 
  Common Lisp documentation. If you don't want/need the documentation, this step 
  is optional as well.) and the relevant parts of #8 &amp; #9 (regardless of which 
  implementations you download) and you will need to download at least one of #4 
  - #7. You can download multiple implementations if you want to trial them.</li>
</ul>
<h3><a name="Installing Emacs">1. Installing Emacs</a></h3>
<ul>
  <li>From a command line, create the following directories (used later):&nbsp;
  <pre>md c:\home\
md c:\home\site\
md c:\home\docs\
md c:\home\lisp\
md c:\home\info\
md c:\bin\     </pre>
  </li>
  <li>Download the precompiled <a href="http://www.gnu.org/software/emacs/">
  Emacs</a> binaries for Windows from
  <a href="ftp://ftp.gnu.org/gnu/windows/emacs/21.3/emacs-21.3-fullbin-i386.tar.gz">
  ftp://ftp.gnu.org/gnu/windows/emacs/21.3/emacs-21.3-fullbin-i386.tar.gz</a> 
  and use Winzip to unpack the files into the c:\bin directory. This should 
  result in a new directory: c:\bin\emacs-21.3</li>
  <li>Using Run on the Windows Start menu, enter &quot;c:\bin\emacs-21.3\bin\runemacs.exe&quot; 
  to verify that the program works. On the Help menu, there is an Emacs on-line 
  tutorial. If you are unfamiliar with Emacs, you should (at least) complete 
  this tutorial before proceeding any further. The remainder of this chapter's 
  instructions will assume that you have at least basic familiarity with the use 
  of Emacs.</li>
  <li>Download the sample .emacs file from <a href=".emacs">here</a> and place 
  it in the c:\home directory.</li>
</ul>
<h3><a name="Installing additional Emacs utilities">2. Installing additional 
Emacs utilities</a></h3>
<ul>
  <li>OPTIONAL: ILISP is needed if you intend to use CLISP or LispWorks with it. 
  Also, if you want to access the HyperSpec documentation or CLtL2, the code to 
  do this is in the ILISP package. Download the
  <a href="http://sourceforge.net/projects/ilisp/">ILISP</a> package from
  <a href="http://prdownloads.sourceforge.net/ilisp/ilisp-5.12.0.tar.gz?download">
  http://prdownloads.sourceforge.net/ilisp/ilisp-5.12.0.tar.gz?download</a> and 
  use Winzip to unpack it into the c:\home\site directory. This should result in 
  a new directory: c:\home\site\ilisp-5.12.0\<ul>
    <li>Edit the EMACSDIR and ILISPDIR variables at the beginning of the 
    icompile.bat file in the ilisp-5.12.0 directory so that they match the 
    settings given below.</li>
  </ul>
  </li>
</ul>
<blockquote>
  <pre>set EMACSDIR=c:\bin\emacs-21.3
set ILISPDIR=c:\home\site\ilisp</pre>
  <ul>
    <li>From a command line, enter the following commands:</li>
  </ul>
  <pre>ren c:\home\site\ilisp-5.12.0 c:\home\site\ilisp
cd c:\home\site\ilisp
icompile.bat</pre>
</blockquote>
<ul>
  <li>OPTIONAL: If you want Emacs Copy/Cut/Paste keyboard shortcuts to match 
  those of Windows (e.g. - C-c, C-x, C-v), download the
  <a href="http://www.cua.dk/cua.html">cua.el</a> utility (provides Windows 
  standard key mappings)&nbsp; from <a href="http://www.cua.dk/cua.el">
  http://www.cua.dk/cua.el</a> and put it into the c:\home\site directory. If 
  you want to use the Emacs defaults for the Copy/Cut/Paste keyboard shortcuts, 
  don't download the cua.el utility.</li>
  <li>OPTIONAL: If you want Emacs to emulate the Windows-style buffer switching 
  (e.g. - C-TAB to move from buffer to buffer), download the
  <a href="http://www.vegetable.demon.co.uk/wence/cua-emul.el">cua-emul.el</a> 
  utility from <a href="http://www.vegetable.demon.co.uk/wence/cua-emul.el">
  http://www.vegetable.demon.co.uk/wence/cua-emul.el</a> and put it into the 
  c:\home\site directory. If you want to use the Emacs defaults for buffer 
  switching, don't download the cua-emul.el utility.</li>
  <li>OPTIONAL: The standard code colorization that is done by Emacs is not to 
  everyone's taste. If you want to use my custom colorization scheme (included 
  in the sample .emacs file) or use one of the standard ones that are included 
  in this optional package (after installation, just press &quot;M-x 
  color-theme-select&quot; to get a listing that you can select from), then download
  <a href="http://www.geocities.com/kensanata/emacs.html#colortheme">color-theme.el</a> 
  from <a href="http://www.emacswiki.org/elisp/color-theme.el.gz">
  http://www.emacswiki.org/elisp/color-theme.el.gz</a> and and use Winzip to 
  unpack the files into the c:\home\site directory.</li>
  <li>OPTIONAL: If you want to browse the Lisp documentation files with your 
  default web browser, then skip this step; however, if you want to be able to 
  browse Lisp documentation from within an Emacs buffer, using an Emacs-based 
  web browser, then download the
  <a href="http://www.cs.indiana.edu/elisp/w3/docs.html">w3</a> browser from
  <a href="ftp://ftp.xemacs.org/pub/xemacs/emacs-w3/w3.tar.gz">
  ftp://ftp.xemacs.org/pub/xemacs/emacs-w3/w3.tar.gz</a>&nbsp;and use Winzip to 
  unpack the files into c:\home\site\w3. Then, from a command line, cd to the 
  c:\home\site\w3&nbsp; directory and run the build.bat command.</li>
  <li>OPTIONAL: The <a href="http://ecb.sourceforge.net/">Emacs Code Browser</a> 
  (ECB) is a useful utility for browsing Lisp code. However, installation is a 
  bit involved and you might want to defer installation until you are more 
  familiar with your Lisp implementation and decide whether it might be useful 
  for your style of development. The sample .emacs file includes setup code for 
  ECB if you do decide to install it. Follow the installation instructions on 
  the ECB site and make certain that the installation directories are all in the 
  C:\home\site\ directory and that they are named ecb, eieio, semantic and 
  speedbar.</li>
</ul>
<h3><a name="Installing on-line documentation">3. Installing on-line 
documentation</a> (optional)</h3>
<ul>
  <li>OPTIONAL: Download the
  <a href="http://www.xanalys.com/software_tools/reference/HyperSpec/">Common 
  Lisp Hyperspec</a> reference from:
  <a href="http://www.xanalys.com/software_tools/reference/HyperSpec/HyperSpec-6-0.tar.gz">
  http://www.xanalys.com/software_tools/reference/HyperSpec/HyperSpec-6-0.tar.gz</a> 
  and use Winzip to unpack the files into the c:\home\docs directory. This 
  should result in a new directory: c:\home\docs\HyperSpec</li>
  <li>OPTIONAL: Download the
  <a href="http://www-2.cs.cmu.edu/Groups/AI/html/cltl/cltl2.html">Common Lisp 
  the Language</a> (CLtL2) reference from:
  <a href="http://www-2.cs.cmu.edu/afs/cs.cmu.edu/project/ai-repository/ai/lang/lisp/doc/cltl/cltl_ht.tgz">
  http://www-2.cs.cmu.edu/afs/cs.cmu.edu/project/ai-repository/ai/lang/lisp/doc/cltl/cltl_ht.tgz</a> 
  and use Winzip to unpack the files into the c:\home\docs directory. This 
  should result in a new directory: <a href="file:///c:/home/docs/cltl">
  c:\home\docs\cltl</a></li>
</ul>
<h3><a name="Installing CLISP">4. Installing CLISP</a> (optional)</h3>
<ul>
  <li>Download the precompiled <a href="http://clisp.cons.org/">CLISP</a> 
  binaries for Windows from:
  <a href="http://prdownloads.sourceforge.net/clisp/clisp-2.31-win32.zip">
  http://prdownloads.sourceforge.net/clisp/clisp-2.31-win32.zip</a></li>
  <li>Use Winzip to unpack the files into the c:\bin directory This should 
  result in a new directory: c:\bin\clisp-2.31&nbsp;</li>
  <li>Create a file named _clisprc.lisp in the c:\home directory. This file can 
  have any initializations that need to occur when CLISP starts. For the time 
  being, just leave it empty.</li>
</ul>
<h3><a name="Installing ACL">5. Installing ACL</a> (optional)</h3>
<ul>
  <li>Download the trial version of <a href="http://www.franz.com/">Franz's ACL</a> 
  for Windows from: <a href="http://www.franz.com/downloads/index.lhtml#acl">
  http://www.franz.com/downloads/index.lhtml#acl</a> &nbsp;</li>
  <li>(Note: you will need to agree to their license and provide an email 
  address. Franz will send you an email with instructions on how to download the 
  temporary license key. The key works for 60 days and a new one can be 
  downloaded before that one expires).</li>
  <li>Run the downloaded installation program (acl62_trial.exe) and install ACL 
  into the c:\bin\acl-6.2 directory.</li>
  <li>Install the license key as per the instructions that you received from 
  Franz.</li>
  <li>From the Windows Start menu, navigate to the Allegro CL group and startup 
  ACL.</li>
  <li>In the Listener (Debug Window), enter the following:</li>
</ul>
<blockquote>
  <pre>(progn
  (build-lisp-image &quot;alisp.dxl&quot; :case-mode :case-insensitive-upper
                    :include-ide nil :restart-app-function nil)
  (sys:copy-file &quot;sys:allegro-ansi.exe&quot; &quot;sys:alisp.exe&quot;))
  </pre>
</blockquote>
<ul>
  <li>A non-IDE Lisp image &amp; exe (alisp.exe) will be created in the ACL 
  directory to be used with Emacs. Exit the ACL IDE.</li>
  <li>OPTIONAL: Download the
  <a href="http://www.franz.com/support/documentation/">Franz documentation</a> 
  from <a href="http://www.franz.com/ftp/pub/acl62/acl62doc.zip">
  http://www.franz.com/ftp/pub/acl62/acl62doc.zip</a> and use Winzip to unpack 
  the files into the c:\bin\acl-6.2 directory.
  <a href="http://compbio.uchsc.edu/Hunter/">Larry Hunter</a> wrote the
  <a href="http://compbio.uchsc.edu/Hunter/acldoc.el">acldoc.el</a> utility that 
  allows you to use the Franz documentation. Download it from
  <a href="http://compbio.uchsc.edu/Hunter/acldoc.el">
  http://compbio.uchsc.edu/Hunter/acldoc.el</a> and put it into the c:\home\site 
  directory.</li>
</ul>
<h3><a name="Installing LispWorks">6. Installing LispWorks</a> (optional)</h3>
<ul>
  <li>In order to use LispWorks with ILISP, it is necessary to create a non-gui 
  console version of the LispWorks executable. This is not possible with the 
  free downloadable &quot;Personal&quot; version of LispWorks. It is only possible with 
  the commercial &quot;Professional&quot; and &quot;Enterprise&quot; editions. These can be ordered 
  off the Xanalys web site at <a href="http://www.xanalys.com">www.xanalys.com</a>. 
  The following instructions assume that you have the commercial version of 
  LispWorks. If you don't, skip this section.</li>
  <li>Run the LispWorks installation program and install LispWorks into the 
  c:\bin\lispworks-4.2 directory.</li>
  <li>Create a file called console.lisp in the c:\home\lisp\ directory. This 
  file will be used to create the non-gui console version of the LispWorks 
  executable. The file should have the following lines in it:</li>
</ul>
<blockquote>
  <pre>(load-all-patches)
(save-image &quot;lw42-console&quot; :console t :environment nil)
(quit)</pre>
</blockquote>
<ul>
  <li>Go to a dos command line and enter the following commands to create the 
  non-gui console version of the LispWorks executable:</li>
</ul>
<blockquote>
  <pre>cd c:\bin\lispworks-4.2
lispworks-4200 -init c:\home\lisp\console.lisp</pre>
  <p>This will result in the lw42-console.exe file being created in the 
  c:\bin\lispworks-4.2 directory.</p>
</blockquote>
<h3><a name="Installing Corman CL">7. Installing Corman CL</a> (optional)</h3>
<ul>
  <li>Download the precompiled binaries of <a href="http://www.corman.net/">
  Corman Lisp</a> for Windows from:
  <a href="http://www.cormanlisp.com/cgi/rgcorman/ccl_download_form.cgi">
  http://www.cormanlisp.com/cgi/rgcorman/ccl_download_form.cgi</a></li>
  <li>Run the downloaded installation program (CormanLisp_1_5_Setupex.exe) and 
  install Corman CL into the c:\bin\corman-1.5 directory. (Note: as of the time 
  this file was created, only Corman 1.5 will work in Emacs and this version 
  will only work with Inferior Lisp mode). If anyone is successful in getting a 
  later version of Corman to run in either Inferior Lisp mode or ILISP, please 
  send an email to either Edi Weitz or Bill Clementson (email addresses are on 
  the <a href="http://cl-cookbook.sourceforge.net/">CL Cookbook home page</a>) 
  explaining how you were able to do this. </li>
</ul>
<h3><a name="Configuration steps">8. Configuration steps</a></h3>
<ul>
  <li>Setup environmental variables either in the autoexec.bat file (e.g. - 
  Windows/98) or the Control Panel/System (e.g. - Windows/NT/2000/XP):</li>
</ul>
<blockquote>
  <ul>
    <li>HOME: Should be set to c:/home (Note: use &quot;/&quot; rather than &quot;\&quot;. Note also 
    that you should make certain that you don't have both a User and a System 
    HOME variable set up when setting up the HOME environmental variable under 
    Windows/NT/2000/XP. If you do, the User variable will override the System 
    one. Delete one of the two (better to leave the system one if you want 
    multiple login users to use your same emacs configuration) and make certain 
    that it is set to the c:\home directory.).</li>
    <li>EMACSDIR: Should be set to c:\bin\emacs-21.3</li>
    <li>PATH: The c:\bin\emacs-21.3\bin directory path should be prepended to 
    the existing PATH to ensure that the Emacs executable can be found (e.g. -- 
    set path=c:\bin\emacs-21.3\bin;%path%).</li>
  </ul>
</blockquote>
<ul>
  <li>If the specified directory locations were used, no changes to the .emacs 
  file should be necessary. If file locations were changed, the directory 
  locations that are specified in the first section of the .emacs file (the 
  &quot;Site-Specific Variables&quot; section) should be modified with the correct 
  directory locations (Note: when specifying directory locations in the .emacs 
  file, use &quot;/&quot; rather than &quot;\&quot; as the directory separator character).</li>
  <li>If not all the Lisp implementations were downloaded, the .emacs file will 
  still work &quot;as is&quot;. If you did download multiple installations, you will 
  probably want to change the lisp-used variable (default value is the first 
  lisp implementation in the list of lisp implementations that you installed) to 
  default to the main lisp implementation that you will be using (you don't have 
  to change it, you can still toggle to the other lisp implementations using 
  &quot;C-M-F5&quot;).</li>
  <li>Reboot the PC after making the above changes and configuration settings.</li>
  <li>Start Emacs (either by using the Start menu's Gnu Emacs shortcut or by 
  using Run on the Windows Start menu with the command &quot;c:\emacs\bin\runemacs.exe&quot;) 
  and do the following:
  <ul>
    <li>If you installed the cua.el utility:
    <ul>
      <li>Double-click on the &quot;site&quot; directory to drill down into that 
      directory.</li>
      <li>Compile the cua.el file by pressing &quot;B&quot; when the cursor is on the file 
      name in the dired window (answer &quot;y&quot; to the &quot;Byte-Compile (y or n)&quot; 
      prompt).</li>
    </ul>
    </li>
    <li>If you installed the cua-emul.el utility:
    <ul>
      <li>Double-click on the &quot;site&quot; directory to drill down into that 
      directory.</li>
      <li>Compile the cua-emul.el file by pressing &quot;B&quot; when the cursor is on the 
      file name in the dired window (answer &quot;y&quot; to the &quot;Byte-Compile (y or n)&quot; 
      prompt).</li>
    </ul>
    </li>
    <li>If you installed the color-theme.el utility:
    <ul>
      <li>Double-click on the &quot;site&quot; directory to drill down into that 
      directory.</li>
      <li>Compile the color-theme.el file by pressing &quot;B&quot; when the cursor is on 
      the file name in the dired window (answer &quot;y&quot; to the &quot;Byte-Compile (y or 
      n)&quot; prompt).</li>
    </ul>
    </li>
    <li>If you installed CLISP and ILISP, do the following:
    <ul>
      <li>Press &quot;C-M-F5&quot; until the minibuffer window at the bottom says 
      &quot;lisp-used: :clisp-ilisp&quot; indicating that you have toggled to CLISP mode.</li>
      <li>Start CLISP by pressing &quot;F5&quot;.</li>
      <li>After starting ILISP/CLISP in Emacs, use &quot;M-x ilisp-compile-inits&quot; to 
      compile the CLISP Lisp initialization files. When finished, press &quot;F4&quot; to 
      close the *clisp-hs* window.</li>
    </ul>
    </li>
    <li>If you installed Lispworks and ILISP, do the following:
    <ul>
      <li>Press &quot;C-M-F5&quot; until the minibuffer window at the bottom says 
      &quot;lisp-used: :lw-ilisp&quot; indicating that you have toggled to LispWorks mode.</li>
      <li>Start LispWorks by pressing &quot;F5&quot;.</li>
      <li>After starting ILISP/CLISP in Emacs, use &quot;M-x ilisp-compile-inits&quot; to 
      compile the LispWorks Lisp initialization files. When finished, press &quot;F4&quot; 
      to close the window.</li>
    </ul>
    </li>
  </ul>
  </li>
  <li>All configuration steps should now be complete - exit Emacs by pressing 
  &quot;C-x C-c&quot; and pressing &quot;y&quot; when you get the &quot;Do you really want to exit Emacs 
  ? (y or n)&quot; prompt in the minibuffer.</li>
</ul>
<h3><a name="Testing the environments">9. Testing the environments</a></h3>
<ul>
  <li>Start Emacs (either by using the Start menu's Gnu Emacs shortcut or by 
  using Run on the Windows Start menu with the command &quot;c:\emacs\bin\runemacs.exe&quot;) 
  and do the following:
  <ul>
    <li>If you installed CLISP, do the following:
    <ul>
      <li>Click in the dired window and press &quot;C-M-F5&quot; until the minibuffer 
      window at the bottom says &quot;lisp-used: :clisp-ilisp&quot; indicating that you 
      have toggled to CLISP mode).</li>
      <li>Test that CLISP runs by pressing &quot;F5&quot; (CLISP should open in the bottom 
      window and the ILISP menu should appear in the Emacs menu bar).
      <ul>
        <li>Click in the *clisp-hs* window and press &quot;C-h b&quot; (this will show you 
        the keybindings that are in effect for ILISP/CLISP).</li>
        <li>Click in the *Help* window and scroll through the keybinding list. 
        When finished, press &quot;F4&quot; to close that window.</li>
        <li>Click in the *clisp-hs* window and press &quot;F4&quot; to close that window.</li>
      </ul>
      </li>
    </ul>
    </li>
    <li>If you installed ACL, do the following:
    <ul>
      <li>Click in the dired window and press &quot;C-M-F5&quot; until the minibuffer 
      window at the bottom says &quot;lisp-used: :acl-eli&quot; indicating that you have 
      toggled to ACL mode).</li>
      <li>Test that ACL runs by pressing &quot;F5&quot;. The ACL icon will appear in the 
      Windows system tray.
      <ul>
        <li>A Listener for ACL should also appear in an Emacs *common-lisp* 
        buffer and the ACL menus should appear in the Emacs menu bar.</li>
        <li>Click in the *common-lisp* window and press &quot;C-h b&quot; (this will show 
        you the keybindings that are in effect for ELI/ACL).</li>
        <li>Click in the *Help* window and scroll through the keybinding list. 
        When finished, press &quot;F4&quot; to close that window.</li>
        <li>Click in the *common-lisp* window and select the ACLFile/Exit 
        Allegro CL menu option (this will close down the ACL connection and the 
        ACL application will end).</li>
      </ul>
      </li>
    </ul>
    </li>
    <li>If you installed LispWorks, do the following:
    <ul>
      <li>Click in the dired window and press &quot;C-M-F5&quot; until the minibuffer 
      window at the bottom says &quot;lisp-used: :lw-ilisp&quot; indicating that you have 
      toggled to LispWorks mode).</li>
      <li>Test that LispWorks runs by pressing &quot;F5&quot; (LispWorks should open in 
      the bottom window and the ILISP menu should appear in the Emacs menu bar).
      <ul>
        <li>Click in the *lispworks* window and press &quot;C-h b&quot; (this will show 
        you the keybindings that are in effect for ILISP/LispWorks).</li>
        <li>Click in the *Help* window and scroll through the keybinding list. 
        When finished, press &quot;F4&quot; to close that window.</li>
        <li>Click in the *lispworks* window and press &quot;F4&quot; to close that window.</li>
      </ul>
      </li>
    </ul>
    </li>
    <li>Click in the dired window and press &quot;C-M-F5&quot; (the minibuffer window at 
    the bottom will say &quot;lisp-used: :corman-eshell&quot; indicating that you have 
    toggled to Corman mode).</li>
    <li>If you installed Corman, do the following:
    <ul>
      <li>Click in the dired window and press &quot;C-M-F5&quot; until the minibuffer 
      window at the bottom says &quot;lisp-used: :corman-inf&quot; indicating that you 
      have toggled to Corman mode).</li>
      <li>Test that Corman runs by pressing &quot;F5&quot;.
      <ul>
        <li>Click in the *inferior-lisp* window and press &quot;C-h b&quot; (this will 
        show you the keybindings that are in effect for Corman in Inferior Lisp 
        Mode).</li>
        <li>Click in the *Help* window and scroll through the keybinding list. 
        When finished, press &quot;F4&quot; to close that window.</li>
        <li>Click in the *inferior-lisp* window and press &quot;F4&quot; to close that 
        window.</li>
      </ul>
      </li>
    </ul>
    </li>
    <li>If you installed the documentation, you can test that the online 
    documentation works by pressing &quot;F1&quot; (for the HyperSpect) or &quot;M-F1&quot; (for 
    CLtL2) when the cursor is on a Lisp keyword (e.g. -- &quot;defun&quot; or &quot;setq&quot;). 
    This should bring up a browser with the documentation for that keyword.</li>
    <li>Exit Emacs by pressing &quot;C-x C-c&quot; and pressing &quot;y&quot; when you get the &quot;Do 
    you really want to exit Emacs ? (y or n)&quot; prompt in the minibuffer.</li>
  </ul>
  </li>
</ul>
<p>You should now have a working Windows/Emacs setup that supports a number of 
different Lisp implementations.</p>
<h3><a name="Sample .emacs file">A. Sample .emacs file</a></h3>
<ul>
  <li>Following is a brief explanation of each of the sections of the sample
  <a href=".emacs">.emacs</a> file:
  <ul>
    <li><b>Site-Specific Variables: </b>Contains directory locations for the 
    different Lisp implementations, Lisp documentation and Emacs-specific files. 
    It also sets the default Lisp implementation (Note: if you want to specify a 
    different default Lisp implementation, change the lisp-used variable to one 
    of :clisp-ilisp, :acl-eli, :lw-ilisp, :corman-inf).</li>
    <li><b>Initial Code Load:</b> Loads Emacs files that are needed later on.</li>
    <li><b>System Customizations: </b>Some standard customizations that make 
    Emacs easier to use.</li>
    <li><b>Programming - Common Lisp:</b> CL-specific setup.</li>
    <li><b>Programming -&nbsp; Elisp: </b>Emacs Lisp-specific setup.</li>
    <li><b>Lisp Key Overrides:</b> ILISP &amp; ELI have their own key mappings - 
    here are some extra ones:<ul>
      <li>F1 - Brings up the CL Hyperspec (if it was installed) documentation 
      page for the Lisp symbol under the cursor using the default browser.</li>
      <li>S-F1 - Brings up the CL Hyperspec (if it was installed) documentation 
      page for the Lisp symbol under the cursor using w3 (if it was installed).</li>
      <li>C-u F1 - Brings up the CL Hyperspec (if it was installed) 
      documentation page for the format character under the cursor using the 
      default browser.</li>
      <li>C-u S-F1 - Brings up the CL Hyperspec (if it was installed) 
      documentation page for the format character under the cursor using w3 (if 
      it was installed).</li>
      <li>C-F1 - Brings up the Franz CL (if it was installed) documentation page 
      for the Lisp symbol under the cursor using the default browser.</li>
      <li>C-S-F1 - Brings up the Franz CL (if it was installed) documentation 
      page for the Lisp symbol under the cursor using w3 (if it was installed).</li>
      <li>M-F1 - Brings up the CLtL2 (if it was installed) documentation page 
      for the Lisp symbol under the cursor using the default browser.</li>
      <li>M-S-F1 - Brings up the CLtL2 (if it was installed) documentation page 
      for the Lisp symbol under the cursor using w3 (if it was installed).</li>
      <li>F5 - Starts the appropriate Lisp mode for the Lisp implementation that 
      was selected (use C-M-F5 to select the Lisp implementation before pressing 
      F5 to start it).</li>
      <li>C-M-F5 - Toggles between the different installed Lisp implementations.
      </li>
      <li>M-p - For ACL only, in a Lisp listener, retrieves the previous 
      historical entry (this is already the binding in ILISP).</li>
      <li>M-n - For ACL only, in a Lisp listener, retrieves the next historical 
      entry (this is already the binding in ILISP).</li>
      <li>C-c d - For ACL only, does a &quot;Do What I Mean&quot; eval/compile (see 
      function documentation for eli-lisp-eval-or-compile-dwim).</li>
      <li>C-c x - For ACL or the ILISP Lisps, does a &quot;Do What I Mean&quot; eval/compile 
      (see function documentation for copy-eval-dwim-lisp).</li>
      <li>C-c e - Prompts for a Lisp form to evaluate.</li>
      <li>C-c ; - Comments out the sexp that the cursor is on (repeated presses 
      comment outward sexp's). (see function documentation for 
      insert-balanced-comments).</li>
      <li>C-c : - Uncomments comments that were insered with 
      insert-balanced-comments (see function documentation for 
      remove-balanced-comments).</li>
    </ul>
    </li>
    <li><b>Standard Key Overrides:</b> Some convenience key setups. The 
    following key bindings have been added:<ul>
      <li>mouse-2 - Brings up a menu of Lisp symbols when in a Lisp source file.</li>
      <li>F6 - Switches focus to another window (when multiple windows are in an 
      Emacs frame).</li>
      <li>F7 - Closes all windows except for the window that currently has 
      focus.</li>
      <li>C-F7 - If ECB was loaded, toggles between multiple ECB windows and 
      just a single source window.</li>
      <li>M-F7 - If ECB was loaded, toggles between different ECB window 
      layouts.</li>
      <li>F12 - Emacs shell</li>
      <li>C-F12 - Default shell</li>
      <li>M-F12 - Bash shell (if present on computer)</li>
      <li>C-c f - Finds the Emacs Lisp function at the cursor location.</li>
      <li>C-c F - Finds the file whose name is at the cursor location.</li>
      <li>C-c s - Search forward using the symbol that is currently under the 
      cursor.</li>
      <li>C-c r - Search backward using the symbol that is currently under the 
      cursor.</li>
      <li>C-c / - Do a word completion (using hippie-expand).</li>
      <li>C-c ] - Goto the matching parenthesis of the parenthesis under the 
      cursor.</li>
      <li>C-c g - Goto a line (prompts for line#).</li>
      <li>C-c a - Select the entire buffer contents.</li>
    </ul>
    </li>
    <li><b>MS Windows Customizations: </b>These settings make Emacs feel more 
    like a Windows application. For Windows machines, they add the following 
    bindings:<ul>
      <li>In dired mode, when you press the &quot;w&quot; key when the cursor is on a file 
      name, the file will be opened with the default application for that file 
      type.</li>
      <li>When cua.el is installed:<ul>
        <li>C-c - Standard Windows copy.</li>
        <li>C-x - Standard Windows cut.</li>
        <li>C-v - Standard Windows paste.</li>
        <li>C-z - Standard Windows undo.</li>
      </ul>
      </li>
      <li>When cua-emul.el is installed:<ul>
        <li>M-F4 - Close frame (closes Emacs if only one Emacs frame is open).</li>
        <li>C-F4 - Close the current buffer.</li>
        <li>C-TAB - Switch to next buffer.</li>
        <li>C-S-TAB - Switch to previous buffer.</li>
      </ul>
      </li>
    </ul>
    </li>
    <li><b>Mac OS X Customizations: </b>Mac OS X specific customizations:<ul>
      <li>Keypad DEL - Deletes character under cursor.</li>
      <li>C-kp-HOME - Goes to beginning of buffer.</li>
      <li>C-kp-END - Goes to end of buffer.</li>
    </ul>
    </li>
    <li><b>Start Directory:</b> After Emacs starts up, the start directory will 
    be the HOME directory.</li>
  </ul>
  </li>
</ul>
<h3><a name="Mac OS X Setup Instructions">B. Mac OS X Setup Instructions </a>
</h3>
<ul>
  <li>At this stage, support for Mac OS X on this page is very limited and 
  (since I do not use Mac OS X on a regular basis) I would welcome someone else 
  providing a separate page of instructions. This section lists the things that 
  are different from the above Windows instructions.</li>
  <li>There are multiple different versions of Emacs (some Aqua-ized, some not) 
  for the Mac and there will eventually be an official FSF Emacs that supports 
  the Aqua GUI. I used <a href="http://www.porkrind.org/emacs/">David Caldwell's 
  Carbon build</a> since the Mac I tested on had OS X version 10.2. Other Emacs 
  builds on other versions of Mac OS X may or may not have problems using my .<a href=".emacs">emacs</a> 
  file.</li>
  <li>All of the places in the above Windows instructions where &quot;c:/home&quot; is 
  mentioned, you should substitute the path to your own home directory 
  (referenced as &quot;~/&quot; in the remainder of these instructions). The .<a href=".emacs">emacs</a> 
  file is setup in such a way that it is not necessary to set any environmental 
  variables manually.</li>
  <li>After downloading ILISP, you will need to modify the makefile &amp; run make 
  as per the instructions in ILISP. </li>
  <li>The optional cua.el and cua-emul.el utilities caused some issues under Mac 
  OS X; therefore, the .<a href=".emacs">emacs</a> file ignores them if you're 
  not on Windows. I have not tested the optional ECB utility on Mac OS X but it 
  should work with the settings that are in the .<a href=".emacs">emacs</a> file 
  so long as all the components are installed in the directories that were 
  specified under the Windows instructions. The optional color-theme.el utility 
  works fine.</li>
  <li>The .<a href=".emacs">emacs</a> file that is supplied will work unchanged 
  with either a Windows installation or a Mac OS X installation. For a Mac 
  install, the assumed directory locations are listed below.</li>
  <li>The following Lisp installations are supported by the .<a href=".emacs">emacs</a> 
  file. I am not providing full build instructions for them as was provided for 
  the Windows installation. The things that you need to know to use these 
  installations with the .<a href=".emacs">emacs</a> file are:<ul>
    <li>CLISP version 2.29: Installed and built with
    <a href="http://fink.sourceforge.net/pdb/package.php/clisp">Fink</a>. (Note: 
    in order to build CLISP with Fink, you will need the
    <a href="http://developer.apple.com/tools/download/">Apple December 2002 
    Development Tools</a>). The resulting clisp executable should be installed 
    in the /sw/bin/ directory. This is the only source code based install, all 
    the other Lisp installs are binary; therefore, the CLISP installation takes 
    the longest and is the most complicated to do.</li>
    <li>ACL version 6.2: Installed from
    <a href="http://www.franz.com/downloads/index.lhtml">Franz's download page</a>. 
    After installation, you need to run (sys:update-allegro) in the ACL Lisp 
    listener to download some needed fixes for it to run properly on OS X. ACL 
    should be installed in the ~/bin/acl-6.2/ directory.</li>
    <li>OpenMCL version 0.13: The
    <a href="http://openmcl.clozure.com/Distributions">binary distribution</a> 
    was downloaded and installed in the ~/bin/ directory. The OpenMCL executable 
    should be at ~/bin/ccl/scripts/openmcl.</li>
    <li>SBCL version 0.8.2.8: The
    <a href="http://www-jcsu.jesus.cam.ac.uk/~csr21/sbcl-darwin-binary.tar.gz">
    binary distribution</a> was downloaded and unpacked. The files src/runtime/sbcl 
    and output/sbcl.core were moved to the ~/bin/ directory.</li>
    <li>LispWorks 4.3: I was not able to get a trial version of LispWorks to try 
    out on Mac OS X; however, I have made the changes to the .emacs file that I 
    think will be necessary to support it. The LispWorks executable should be at 
    ~/bin/lispworks-4.3/lw43-console.</li>
  </ul>
  </li>
</ul>

</body>

</html>
